<!DOCTYPE html>
<html>
<head>
    <title>
        Shopify Backend Challenge
    </title>
    <script type="text/javascript"  >
        function postProduct(){
            // alert("product");
            let result = document.querySelector('#result');
            let sku = document.querySelector('#sku');
            let name = document.querySelector('#name');
            let description = document.querySelector('#description');
            let category = document.querySelector('#category');

            // Creating a XHR object
            let xhr = new XMLHttpRequest();
            let url = "product/create";

            // open a connection
            xhr.open("POST", url, true);

            // Set the request header i.e. which type of content you are sending
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Accept", "application/json");

            // Create a state change callback
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {

                    // Print received data from server
                    result.innerHTML = this.responseText;

                }
            };

            // Converting JSON data to string
            var data = JSON.stringify(
                { "sku": sku.value,
                    "name": name.value,
                    "description": description.value,
                    "category": category.value });

            // Sending data with the request
            xhr.send(data);
        }
    </script>
</head>

<body style="text-align:center;" id="body">
<h1 style="color:green;">
    Shopify Backend Challenge
</h1>
<form action="">
    <br/><input type="text" name="sku" id="sku" placeholder ="SKU" />
    <br/><input type="text" name="name" id="name" placeholder ="Product Name" />
    <br/><input type="text" name="description" id="description" placeholder ="Product Description" />
    <br/><input type="text" name="category" id="category" placeholder ="Product Category" />
    <br/><input type="submit" value="Add Product" onclick="postProduct(); return false;">
</form>
<div id="result">

</div>
</body>
</html>