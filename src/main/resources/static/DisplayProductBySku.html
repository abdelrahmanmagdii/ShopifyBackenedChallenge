<!DOCTYPE html>
<html>
<head>
  <title>
    Shopify Backend Challenge
  </title>
  <script type="text/javascript"  >
    function displayProductBySku(){
      //alert("product");
      let inputSku = document.querySelector('#inputSku');
      let sku = document.querySelector('#sku');
      let name = document.querySelector('#name');
      let description = document.querySelector('#description');
      let category = document.querySelector('#category');

      // Creating a XHR object
      let xhr = new XMLHttpRequest();
      let url = "product/get/"+inputSku.value;

      // open a connection
      xhr.open("GET", url, true);

      // Set the request header i.e. which type of content you are sending
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.setRequestHeader("Accept", "application/json");

      // Create a state change callback
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          const obj = JSON.parse(this.responseText);
          // Print received data from server
          sku.value = obj.sku;
          name.value = obj.name;
          description.value = obj.description;
          category.value = obj.category;
        }
      };
      // Sending data with the request
      xhr.send();
    }
  </script>
</head>

<body style="text-align:center;" id="body">
<h1 style="color:green;">
  Shopify Backend Challenge
</h1>
<form action="">
  <br/><input type="text" name="id" id="inputSku" placeholder ="SKU" />
  <br/><input type="submit" value="Print product" onclick="displayProductBySku(); return false;">
</form>
<div id="result">
  <br/><input type="text" name="" id="sku" placeholder ="sku" readonly />
  <br/><input type="text" name="" id="name" placeholder ="name"  readonly/>
  <br/><input type="text" name="" id="description" placeholder ="description"  readonly/>
  <br/><input type="text" name="" id="category" placeholder ="category"  readonly/>
</div>
</body>
</html>