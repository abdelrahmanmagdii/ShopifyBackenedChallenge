<!DOCTYPE html>
<html>
<head>
    <title>
        Shopify Backend Challenge
    </title>
    <script type="text/javascript"  >
        function postProductWarehouse(){
            // alert("product warehouse");
            let result = document.querySelector('#result');
            let productSku = document.querySelector('#productSku');
            let warehouseId = document.querySelector('#warehouseId');
            let quantity = document.querySelector('#quantity');
            // Creating a XHR object
            let xhr = new XMLHttpRequest();
            let url = "/product_warehouse/create";

            // open a connection
            xhr.open("POST", url, true);

            // Set the request header i.e. which type of content you are sending
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Accept", "application/json");

            // Create a state change callback
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {

                    // Print received data from server
                    result.innerHTML = this.responseText;

                }
            };

            // Converting JSON data to string
            var data = JSON.stringify(
                { "productSku": productSku.value,
                    "warehouseId": warehouseId.value,
                    "quantity": quantity.value,});

            // Sending data with the request
            xhr.send(data);
        }
    </script>
</head>

<body style="text-align:center;" id="body">
<h1 style="color:green;">
    Shopify Backend Challenge
</h1>
<form action="">
    <br/><input type="text" name="name" id="warehouseId" placeholder ="Warehouse ID" />
    <br/><input type="text" name="sku" id="productSku" placeholder ="Product SKU" />
    <br/><input type="text" name="quantity" id="quantity" placeholder ="Quantity of product" />
    <br/><input type="submit" value="Assign product to warehouse" onclick="postProductWarehouse(); return false;">
</form>
<div id="result">

</div>
</body>
</html>